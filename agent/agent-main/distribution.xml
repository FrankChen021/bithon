<assembly>
  <id>main</id>

  <formats>
    <format>dir</format>
  </formats>

  <includeBaseDirectory>false</includeBaseDirectory>

  <dependencySets>

    <!-- agent-bootstrap -->
    <dependencySet>
      <includes>
        <include>${project.parent.groupId}:agent-main</include>
      </includes>
      <outputDirectory>/</outputDirectory>
      <outputFileNameMapping>agent-main.jar</outputFileNameMapping>
    </dependencySet>

    <!-- boot-class-path -->
    <dependencySet>
      <includes>
        <include>${project.parent.groupId}:agent-bootstrap</include>
      </includes>
      <outputDirectory>/boot</outputDirectory>
      <outputFileNameMapping>agent-bootstrap.jar</outputFileNameMapping>
    </dependencySet>

    <!-- lib -->
    <dependencySet>
      <excludes>
        <exclude>${project.parent.groupId}:agent-bootstrap</exclude>
        <exclude>${project.parent.groupId}:agent-main</exclude>
        <exclude>org.slf4j:slf4j-api</exclude>
      </excludes>
      <outputDirectory>/lib</outputDirectory>
    </dependencySet>
  </dependencySets>

  <fileSets>
    <fileSet>
      <directory>${project.build.outputDirectory}</directory>
      <outputDirectory>/conf</outputDirectory>
      <includes>
        <include>*.yml</include>
        <include>*.xml</include>
      </includes>
    </fileSet>
  </fileSets>

</assembly>