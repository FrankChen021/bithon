{
  "id": "jdbc-pool-metrics",
  "title": "JDBC Connection Pool",
  "filter": {
    "selectors": [
      {
        "type": "datasource",
        "name": "jdbc-pool-metrics",
        "fields": [{ "name": "appName", "width": 200, "allowClear": false }, "instanceName", "server", "database"]
      }
    ]
  },
  "charts": [
    {
      "title": "JDBC Connection Pool",
      "width": 4,
      "type": "line",
      "columns": ["activeCount", "poolingCount", "createCount", "destroyCount", "waitThreadCount"],
      "query": {
        "type": "timeseries",
        "dataSource": "jdbc-pool-metrics",
        "fields": [
          { "name": "activeCount", "expression": "last(activeCount)" },
          { "name": "poolingCount", "expression": "last(poolingCount)" },
          { "name": "createCount", "expression": "last(createCount)" },
          { "name": "destroyCount", "expression": "last(destroyCount)" },
          { "name": "waitThreadCount", "expression": "last(waitThreadCount)" }
        ]
      }
    },
    {
      "title": "Transaction",
      "width": 4,
      "type": "line",
      "columns": ["executeCount", "startTransactionCount", "commitCount", "rollbackCount"],
      "query": {
        "type": "timeseries",
        "dataSource": "jdbc-pool-metrics",
        "fields": [
          {
            "name": "executeCount",
            "expression": "sum(executeCount)"
          },
          {
            "name": "startTransactionCount",
            "expression": "sum(startTransactionCount)"
          },
          {
            "name": "commitCount",
            "expression": "sum(commitCount)"
          },
          {
            "name": "rollbackCount",
            "expression": "sum(rollbackCount)"
          }
        ]
      }
    }
  ]
}
