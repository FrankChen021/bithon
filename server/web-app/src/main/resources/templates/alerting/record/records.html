<!DOCTYPE HTML>
<html lang="zh_CN"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{_common/layout}">
<head>
    <title>Bithon Alerting History</title>

    <!-- tree grid style -->
    <link rel="stylesheet" type="text/css" th:href="@{/lib/jquery-treegrid-0.2/css/jquery-treegrid.min.css}"/>
    <script th:src="@{/lib/sql-formatter-4.0.2/sql-formatter.min.js}"></script>

    <script th:src="@{/lib/echarts5.0.1/echarts.min.js}"></script>
    <script th:src="@{/js/chart-component.js}"></script>
    <script th:src="@{/js/component/tree-table/component.js}"></script>
    <script th:src="@{/js/utils/location.js}"></script>

    <style>
        html, body {
            height: 100%;
        }

        .flex-fill {
            flex: 1;
        }
    </style>
</head>
<body>
<div class="container-fluid d-flex h-100 flex-column" style="padding-top:15px; padding-left: 5px; padding-right: 5px" layout:fragment="content">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <!-- Navbar content -->
        <a class="navbar-brand" href="/web/home">Bithon</a>
    </nav>
    <div class="row flex-fill d-flex justify-content-start" style="padding-top:40px">
        <div class="col-2 p-0 ">
            <iframe id="list" style="width: 100%; height: 100%" frameborder="0"></iframe>
        </div>
        <div class="col-10 p-0 ">
            <iframe id="detail" style="width: 100%; height: 100%" frameborder="0"></iframe>
        </div>
    </div>
    <script>
        $(document).ready(() => {
            $("#list").attr('src', '/web/alerting/record/list?alertId=' + window.queryParams['alertId']);

            const id = window.queryParams['id'];
            if (id != null) {
                $("#detail").attr('src', '/web/alerting/record/detail?id=' + id);
            }
        });
    </script>
</div>
</body>
</html>