#
# This file demonstrates configuring the Bithon server to use those databases that support JDBC as underlying storage.
# Currently, only H2 has been tested, so H2 is configured in this file.
#
bithon:
  storage:
    tracing:
      provider: postgres-local
      enabled: true
      ttl:
        enabled: true
        ttl: P1D
        cleanPeriod: PT1M
      indexes:
        # A demo of how the index works, can be removed in production
        map:
          "[http.method]": 1
    metric:
      provider: postgres-local
      enabled: true
      ttl:
        enabled: true
        ttl: P1D
        cleanPeriod: PT1M
    event:
      provider: postgres-local
      enabled: true
      ttl:
        enabled: true
        ttl: P1D
        cleanPeriod: PT1M
    meta:
      provider: postgres-local
      enabled: true
      ttl:
        enabled: true
        ttl: PT5M
        cleanPeriod: PT1M
    setting:
      provider: postgres-local
      enabled: true
    web:
      provider: postgres-local

    alerting:
      all:
        provider: postgres-local
        ttl:
          enabled: true
          ttl: P1D
          cleanPeriod: PT3M

      log:
        provider: postgres-local
        ttl:
          enabled: true
          ttl: P1D
          cleanPeriod: PT3M

    providers:
      postgres-local:
        type: postgresql
        url: jdbc:postgresql://localhost:5432/bithon
        driverClassName: org.postgresql.Driver
        username: root
        password: root

